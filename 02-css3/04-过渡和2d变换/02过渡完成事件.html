<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>过渡完成事件</title>

<style>
#box {width:50px; height:50px; margin:5px; background:red; transition:500ms;}
</style>
<script>
window.onload = function() {
  var oDiv = document.getElementById("box");

  oDiv.onclick = function() {
    this.style.width = this.offsetWidth + 100 + "px";
    addTransitionEnd(this, fnTransitionEnd);
  };

  function fnTransitionEnd() {
    oDiv.style.height = oDiv.offsetHeight + 100 + "px";
    removeTransitionEnd(oDiv, fnTransitionEnd);
  }

  function addTransitionEnd(obj, fn) {
    obj.addEventListener('WebkitTransitionEnd', fn, false);
    obj.addEventListener('transitionend', fn, false);
  }

  function removeTransitionEnd(obj, fn) {
    obj.removeEventListener('WebkitTransitionEnd', fn, false);
    obj.removeEventListener('transitionend', fn, false);
  }
}
</script>
</head>
<body>
<div id="box"></div>
</body>
</html>